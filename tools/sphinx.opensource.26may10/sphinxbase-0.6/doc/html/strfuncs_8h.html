<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>SphinxBase: include/strfuncs.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>include/strfuncs.h File Reference</h1>Miscellaneous useful string functions.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;stdarg.h&gt;</code><br>
<code>#include &lt;sphinxbase_export.h&gt;</code><br>
<code>#include &lt;<a class="el" href="prim__type_8h-source.html">prim_type.h</a>&gt;</code><br>

<p>
<a href="strfuncs_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="strfuncs_8h.html#b5c9ca15770a4bd3047705762b815df9">string_edge_e</a> { <a class="el" href="strfuncs_8h.html#b5c9ca15770a4bd3047705762b815df95e4d73e6ca445be10fa48351b9571125">STRING_START</a>, 
<a class="el" href="strfuncs_8h.html#b5c9ca15770a4bd3047705762b815df911f31598e50bf3cf1d0aa97d967bb9b9">STRING_END</a>, 
<a class="el" href="strfuncs_8h.html#b5c9ca15770a4bd3047705762b815df94fcbb0fe16fa4aa48723ba3ba10c26dd">STRING_BOTH</a>
 }</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Which end of a string to operate on for <a class="el" href="strfuncs_8h.html#c36a095632a4f16cf4e0fbcdb01de5ad" title="Remove whitespace from a string, modifying it in-place.">string_trim()</a>.  <a href="strfuncs_8h.html#b5c9ca15770a4bd3047705762b815df9">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="317522f23d291311e366de34ef86b777"></a><!-- doxytag: member="strfuncs.h::string_join" ref="317522f23d291311e366de34ef86b777" args="(const char *base,...)" -->
SPHINXBASE_EXPORT char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="strfuncs_8h.html#317522f23d291311e366de34ef86b777">string_join</a> (const char *base,...)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Concatenate a NULL-terminated argument list of strings, returning a newly allocated string. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">SPHINXBASE_EXPORT char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="strfuncs_8h.html#c36a095632a4f16cf4e0fbcdb01de5ad">string_trim</a> (char *string, enum <a class="el" href="strfuncs_8h.html#b5c9ca15770a4bd3047705762b815df9">string_edge_e</a> which)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Remove whitespace from a string, modifying it in-place.  <a href="#c36a095632a4f16cf4e0fbcdb01de5ad"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">SPHINXBASE_EXPORT double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="strfuncs_8h.html#b708351fe7308551632a782bfad75a1e">atof_c</a> (char const *str)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Locale independent version of atof().  <a href="#b708351fe7308551632a782bfad75a1e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ab1bdad6b50285de4b7cd042f67314dd"></a><!-- doxytag: member="strfuncs.h::utf8_decode" ref="ab1bdad6b50285de4b7cd042f67314dd" args="(uint32 *state, uint32 *codep, uint32 *byte)" -->
SPHINXBASE_EXPORT uint32&nbsp;</td><td class="memItemRight" valign="bottom"><b>utf8_decode</b> (uint32 *state, uint32 *codep, uint32 *byte)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">SPHINXBASE_EXPORT int32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="strfuncs_8h.html#5b520fdebcca599db86faaf75a82173f">str2words</a> (char *line, char **wptr, int32 n_wptr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convert a line to an array of "words", based on whitespace separators.  <a href="#5b520fdebcca599db86faaf75a82173f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">SPHINXBASE_EXPORT int32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="strfuncs_8h.html#41d9a59e4326b545bf1282401319f553">nextword</a> (char *line, const char *delim, char **word, char *delimfound)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Yet another attempt at a clean "next-word-in-string" function.  <a href="#41d9a59e4326b545bf1282401319f553"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Miscellaneous useful string functions. 
<p>

<p>Definition in file <a class="el" href="strfuncs_8h-source.html">strfuncs.h</a>.</p>
<hr><h2>Enumeration Type Documentation</h2>
<a class="anchor" name="b5c9ca15770a4bd3047705762b815df9"></a><!-- doxytag: member="strfuncs.h::string_edge_e" ref="b5c9ca15770a4bd3047705762b815df9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="strfuncs_8h.html#b5c9ca15770a4bd3047705762b815df9">string_edge_e</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Which end of a string to operate on for <a class="el" href="strfuncs_8h.html#c36a095632a4f16cf4e0fbcdb01de5ad" title="Remove whitespace from a string, modifying it in-place.">string_trim()</a>. 
<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="b5c9ca15770a4bd3047705762b815df95e4d73e6ca445be10fa48351b9571125"></a><!-- doxytag: member="STRING_START" ref="b5c9ca15770a4bd3047705762b815df95e4d73e6ca445be10fa48351b9571125" args="" -->STRING_START</em>&nbsp;</td><td>
Beginning of string. 
<p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="b5c9ca15770a4bd3047705762b815df911f31598e50bf3cf1d0aa97d967bb9b9"></a><!-- doxytag: member="STRING_END" ref="b5c9ca15770a4bd3047705762b815df911f31598e50bf3cf1d0aa97d967bb9b9" args="" -->STRING_END</em>&nbsp;</td><td>
End of string. 
<p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="b5c9ca15770a4bd3047705762b815df94fcbb0fe16fa4aa48723ba3ba10c26dd"></a><!-- doxytag: member="STRING_BOTH" ref="b5c9ca15770a4bd3047705762b815df94fcbb0fe16fa4aa48723ba3ba10c26dd" args="" -->STRING_BOTH</em>&nbsp;</td><td>
Both ends of string. 
<p>
</td></tr>
</table>
</dl>

<p>Definition at line <a class="el" href="strfuncs_8h-source.html#l00070">70</a> of file <a class="el" href="strfuncs_8h-source.html">strfuncs.h</a>.</p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="b708351fe7308551632a782bfad75a1e"></a><!-- doxytag: member="strfuncs.h::atof_c" ref="b708351fe7308551632a782bfad75a1e" args="(char const *str)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SPHINXBASE_EXPORT double atof_c           </td>
          <td>(</td>
          <td class="paramtype">char const *&nbsp;</td>
          <td class="paramname"> <em>str</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Locale independent version of atof(). 
<p>
This function behaves like atof() in the "C" locale. Switching locale in a threaded program is extremely uncool, therefore we need this since we pass floats as strings in 1000 different places. 
<p>Definition at line <a class="el" href="strfuncs_8c-source.html#l00056">56</a> of file <a class="el" href="strfuncs_8c-source.html">strfuncs.c</a>.</p>

<p>References <a class="el" href="strfuncs_8c-source.html#l00056">atof_c()</a>.</p>

<p>Referenced by <a class="el" href="strfuncs_8c-source.html#l00056">atof_c()</a>, and <a class="el" href="logmath_8c-source.html#l00164">logmath_read()</a>.</p>

</div>
</div><p>
<a class="anchor" name="41d9a59e4326b545bf1282401319f553"></a><!-- doxytag: member="strfuncs.h::nextword" ref="41d9a59e4326b545bf1282401319f553" args="(char *line, const char *delim, char **word, char *delimfound)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SPHINXBASE_EXPORT int32 nextword           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>delim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>word</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>delimfound</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Yet another attempt at a clean "next-word-in-string" function. 
<p>
See arguments below. <dl class="return" compact><dt><b>Returns:</b></dt><dd>Length of word returned, or -1 if nothing found. This allows you to scan through a line:</dd></dl>
<pre>
 while ((n = nextword(line, delim, &amp;word, &amp;delimfound)) &gt;= 0) {
     ... do something with word ..
     word[n] = delimfound;
     line = word + n;
 }
 </pre> <dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>line</em>&nbsp;</td><td>
Input: String being searched for next word. Will be modified by this function (NUL characters inserted) </td></tr>
<tr><td valign="top"><em>delim</em>&nbsp;</td><td>
Input: A word, if found, must be delimited at either end by a character from this string (or at the end by the NULL char) </td></tr>
<tr><td valign="top"><em>word</em>&nbsp;</td><td>
Output: *word = ptr within line to beginning of first word, if found. Delimiter at the end of word replaced with the NULL char. </td></tr>
<tr><td valign="top"><em>delimfound</em>&nbsp;</td><td>
Output: *delimfound = original delimiter found at the end of the word. (This way, the caller can restore the delimiter, preserving the original string.) </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="strfuncs_8c-source.html#l00158">158</a> of file <a class="el" href="strfuncs_8c-source.html">strfuncs.c</a>.</p>

<p>References <a class="el" href="strfuncs_8c-source.html#l00158">nextword()</a>.</p>

<p>Referenced by <a class="el" href="strfuncs_8c-source.html#l00158">nextword()</a>.</p>

</div>
</div><p>
<a class="anchor" name="5b520fdebcca599db86faaf75a82173f"></a><!-- doxytag: member="strfuncs.h::str2words" ref="5b520fdebcca599db86faaf75a82173f" args="(char *line, char **wptr, int32 n_wptr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SPHINXBASE_EXPORT int32 str2words           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>wptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32&nbsp;</td>
          <td class="paramname"> <em>n_wptr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Convert a line to an array of "words", based on whitespace separators. 
<p>
A word is a string with no whitespace chars in it. Note that the string line is modified as a result: NULL chars are placed after every word in the line. Return value: No. of words found; -1 if no. of words in line exceeds n_wptr. <dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>line</em>&nbsp;</td><td>
In/Out: line to be parsed. This string will be modified! (NUL characters inserted at word boundaries) </td></tr>
<tr><td valign="top"><em>wptr</em>&nbsp;</td><td>
In/Out: Array of pointers to words found in line. The array must be allocated by the caller. It may be NULL in which case the number of words will be counted. This allows you to allcate it to the proper size, e.g.:<p>
n = str2words(line, NULL, 0); wptr = ckd_calloc(n, sizeof(*wptr)); str2words(line, wptr, n); </td></tr>
<tr><td valign="top"><em>n_wptr</em>&nbsp;</td><td>
In: Size of wptr array, ignored if wptr == NULL </td></tr>
</table>
</dl>
<p>Definition at line <a class="el" href="strfuncs_8c-source.html#l00115">115</a> of file <a class="el" href="strfuncs_8c-source.html">strfuncs.c</a>.</p>

<p>References <a class="el" href="strfuncs_8c-source.html#l00115">str2words()</a>.</p>

<p>Referenced by <a class="el" href="strfuncs_8c-source.html#l00115">str2words()</a>.</p>

</div>
</div><p>
<a class="anchor" name="c36a095632a4f16cf4e0fbcdb01de5ad"></a><!-- doxytag: member="strfuncs.h::string_trim" ref="c36a095632a4f16cf4e0fbcdb01de5ad" args="(char *string, enum string_edge_e which)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SPHINXBASE_EXPORT char* string_trim           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="strfuncs_8h.html#b5c9ca15770a4bd3047705762b815df9">string_edge_e</a>&nbsp;</td>
          <td class="paramname"> <em>which</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Remove whitespace from a string, modifying it in-place. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>string to trim, contents will be modified. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>which</em>&nbsp;</td><td>one of STRING_START, STRING_END, or STRING_BOTH. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="strfuncs_8c-source.html#l00089">89</a> of file <a class="el" href="strfuncs_8c-source.html">strfuncs.c</a>.</p>

<p>References <a class="el" href="strfuncs_8h-source.html#l00073">STRING_BOTH</a>, <a class="el" href="strfuncs_8h-source.html#l00072">STRING_END</a>, <a class="el" href="strfuncs_8h-source.html#l00071">STRING_START</a>, and <a class="el" href="strfuncs_8c-source.html#l00089">string_trim()</a>.</p>

<p>Referenced by <a class="el" href="strfuncs_8c-source.html#l00089">string_trim()</a>.</p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Sat Dec 3 20:28:39 2011 for SphinxBase by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.7.1 </small></address>
</body>
</html>
