<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>SphinxBase: ngram_model_s Struct Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>ngram_model_s Struct Reference</h1><!-- doxytag: class="ngram_model_s" -->Common implementation of ngram_model_t.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="ngram__model__internal_8h-source.html">ngram_model_internal.h</a>&gt;</code>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Fields</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="3b14986e4dc40ccec1f7e206b7f41d06"></a><!-- doxytag: member="ngram_model_s::refcount" ref="3b14986e4dc40ccec1f7e206b7f41d06" args="" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structngram__model__s.html#3b14986e4dc40ccec1f7e206b7f41d06">refcount</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reference count. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int32 *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structngram__model__s.html#9dcba9b49cc1cd189b257e5838da0eee">n_counts</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Counts for 1, 2, 3, .  <a href="#9dcba9b49cc1cd189b257e5838da0eee"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="3e41109b30668bdfc077614c1ef49960"></a><!-- doxytag: member="ngram_model_s::n_1g_alloc" ref="3e41109b30668bdfc077614c1ef49960" args="" -->
int32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structngram__model__s.html#3e41109b30668bdfc077614c1ef49960">n_1g_alloc</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Number of allocated word strings (for new word addition). <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structngram__model__s.html#74f85927ef0d5513a1e6c02d13864be3">n_words</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Number of actual word strings (NOT the same as the number of unigrams, due to class words).  <a href="#74f85927ef0d5513a1e6c02d13864be3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structngram__model__s.html#3c87bc1b678662a2c8930b3b8c33a80f">n</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This is an n-gram model (1, 2, 3, .  <a href="#3c87bc1b678662a2c8930b3b8c33a80f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="deb914f8e9f011a5c960f5ee9cd33919"></a><!-- doxytag: member="ngram_model_s::n_classes" ref="deb914f8e9f011a5c960f5ee9cd33919" args="" -->
uint8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structngram__model__s.html#deb914f8e9f011a5c960f5ee9cd33919">n_classes</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Number of classes (maximum 128). <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="78a3253febced2cae4732044da466ee6"></a><!-- doxytag: member="ngram_model_s::writable" ref="78a3253febced2cae4732044da466ee6" args="" -->
uint8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structngram__model__s.html#78a3253febced2cae4732044da466ee6">writable</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Are word strings writable? <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="c609a2f867496d6ca719351d566db328"></a><!-- doxytag: member="ngram_model_s::flags" ref="c609a2f867496d6ca719351d566db328" args="" -->
uint8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structngram__model__s.html#c609a2f867496d6ca719351d566db328">flags</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Any other flags we might care about (FIXME: Merge this and writable). <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="2ca373109c651ac998b33153eb38fd95"></a><!-- doxytag: member="ngram_model_s::lmath" ref="2ca373109c651ac998b33153eb38fd95" args="" -->
<a class="el" href="logmath_8h.html#e613aa7db1dd40ff56a80a7dadb22cc8">logmath_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structngram__model__s.html#2ca373109c651ac998b33153eb38fd95">lmath</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Log-math object. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="76ea0c65b23de80091e7c602bdb43bde"></a><!-- doxytag: member="ngram_model_s::lw" ref="76ea0c65b23de80091e7c602bdb43bde" args="" -->
float32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structngram__model__s.html#76ea0c65b23de80091e7c602bdb43bde">lw</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Language model scaling factor. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="3d6bf5632760a16e52cb881d7010d774"></a><!-- doxytag: member="ngram_model_s::log_wip" ref="3d6bf5632760a16e52cb881d7010d774" args="" -->
int32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structngram__model__s.html#3d6bf5632760a16e52cb881d7010d774">log_wip</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Log of word insertion penalty. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="6f0ec7b8b9d13d590bbe4b59df573abc"></a><!-- doxytag: member="ngram_model_s::log_uw" ref="6f0ec7b8b9d13d590bbe4b59df573abc" args="" -->
int32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structngram__model__s.html#6f0ec7b8b9d13d590bbe4b59df573abc">log_uw</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Log of unigram weight. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="616bf871a67f9cedce17d6b589ee33ea"></a><!-- doxytag: member="ngram_model_s::log_uniform" ref="616bf871a67f9cedce17d6b589ee33ea" args="" -->
int32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structngram__model__s.html#616bf871a67f9cedce17d6b589ee33ea">log_uniform</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Log of uniform (0-gram) probability. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structngram__model__s.html#a38c5fdecaefd9a2f43b69f26ae492c1">log_uniform_weight</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Log of uniform weight (i.e.  <a href="#a38c5fdecaefd9a2f43b69f26ae492c1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="65425a599c4bcc4dda809d81149b8fc0"></a><!-- doxytag: member="ngram_model_s::log_zero" ref="65425a599c4bcc4dda809d81149b8fc0" args="" -->
int32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structngram__model__s.html#65425a599c4bcc4dda809d81149b8fc0">log_zero</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Zero probability, cached here for quick lookup. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e625e779e340845f03fb3da164e93039"></a><!-- doxytag: member="ngram_model_s::word_str" ref="e625e779e340845f03fb3da164e93039" args="" -->
char **&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structngram__model__s.html#e625e779e340845f03fb3da164e93039">word_str</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Unigram names. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">hash_table_t *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structngram__model__s.html#75567419a8002ef6e916c81f5d9ee9ed">wid</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Mapping of unigram names to word IDs.  <a href="#75567419a8002ef6e916c81f5d9ee9ed"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="4f910ab2c18b0e68dce92816a27fb139"></a><!-- doxytag: member="ngram_model_s::tmp_wids" ref="4f910ab2c18b0e68dce92816a27fb139" args="" -->
int32 *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structngram__model__s.html#4f910ab2c18b0e68dce92816a27fb139">tmp_wids</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Temporary array of word IDs for ngram_model_get_ngram(). <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct <a class="el" href="structngram__class__s.html">ngram_class_s</a> **&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structngram__model__s.html#39384af3e6b53591d433436db011ac8d">classes</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Word class definitions.  <a href="#39384af3e6b53591d433436db011ac8d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct <a class="el" href="structngram__funcs__s.html">ngram_funcs_s</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structngram__model__s.html#d3d9d8ad9773f958a89534220eda6fb9">funcs</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation-specific methods.  <a href="#d3d9d8ad9773f958a89534220eda6fb9"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Common implementation of ngram_model_t. 
<p>
The details of bigram, trigram, and higher-order N-gram storage, if any, can vary somewhat depending on the file format in use. 
<p>Definition at line <a class="el" href="ngram__model__internal_8h-source.html#l00055">55</a> of file <a class="el" href="ngram__model__internal_8h-source.html">ngram_model_internal.h</a>.</p>
<hr><h2>Field Documentation</h2>
<a class="anchor" name="39384af3e6b53591d433436db011ac8d"></a><!-- doxytag: member="ngram_model_s::classes" ref="39384af3e6b53591d433436db011ac8d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structngram__class__s.html">ngram_class_s</a>** <a class="el" href="structngram__model__s.html#39384af3e6b53591d433436db011ac8d">ngram_model_s::classes</a><code> [read]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Word class definitions. 
<p>

<p>Definition at line <a class="el" href="ngram__model__internal_8h-source.html#l00076">76</a> of file <a class="el" href="ngram__model__internal_8h-source.html">ngram_model_internal.h</a>.</p>

<p>Referenced by <a class="el" href="ngram__model_8c-source.html#l00997">ngram_model_add_class()</a>, <a class="el" href="ngram__model_8c-source.html#l00947">ngram_model_add_class_word()</a>, <a class="el" href="ngram__model_8c-source.html#l00251">ngram_model_free()</a>, <a class="el" href="ngram__model_8c-source.html#l00567">ngram_ng_prob()</a>, and <a class="el" href="ngram__model_8c-source.html#l00491">ngram_ng_score()</a>.</p>

</div>
</div><p>
<a class="anchor" name="d3d9d8ad9773f958a89534220eda6fb9"></a><!-- doxytag: member="ngram_model_s::funcs" ref="d3d9d8ad9773f958a89534220eda6fb9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structngram__funcs__s.html">ngram_funcs_s</a>* <a class="el" href="structngram__model__s.html#d3d9d8ad9773f958a89534220eda6fb9">ngram_model_s::funcs</a><code> [read]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Implementation-specific methods. 
<p>

<p>Definition at line <a class="el" href="ngram__model__internal_8h-source.html#l00077">77</a> of file <a class="el" href="ngram__model__internal_8h-source.html">ngram_model_internal.h</a>.</p>

<p>Referenced by <a class="el" href="ngram__model_8c-source.html#l00761">ngram_iter_free()</a>, <a class="el" href="ngram__model_8c-source.html#l00747">ngram_iter_get()</a>, <a class="el" href="ngram__model_8c-source.html#l00755">ngram_iter_next()</a>, <a class="el" href="ngram__model_8c-source.html#l00738">ngram_iter_successors()</a>, <a class="el" href="ngram__model_8c-source.html#l00829">ngram_model_add_word()</a>, <a class="el" href="ngram__model_8c-source.html#l00474">ngram_model_apply_weights()</a>, <a class="el" href="ngram__model_8c-source.html#l00244">ngram_model_flush()</a>, <a class="el" href="ngram__model_8c-source.html#l00251">ngram_model_free()</a>, <a class="el" href="ngram__model_8c-source.html#l00686">ngram_model_mgrams()</a>, <a class="el" href="ngram__model_8c-source.html#l00728">ngram_ng_iter()</a>, <a class="el" href="ngram__model_8c-source.html#l00567">ngram_ng_prob()</a>, and <a class="el" href="ngram__model_8c-source.html#l00491">ngram_ng_score()</a>.</p>

</div>
</div><p>
<a class="anchor" name="a38c5fdecaefd9a2f43b69f26ae492c1"></a><!-- doxytag: member="ngram_model_s::log_uniform_weight" ref="a38c5fdecaefd9a2f43b69f26ae492c1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32 <a class="el" href="structngram__model__s.html#a38c5fdecaefd9a2f43b69f26ae492c1">ngram_model_s::log_uniform_weight</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Log of uniform weight (i.e. 
<p>
1 - unigram weight) 
<p>Definition at line <a class="el" href="ngram__model__internal_8h-source.html#l00071">71</a> of file <a class="el" href="ngram__model__internal_8h-source.html">ngram_model_internal.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="3c87bc1b678662a2c8930b3b8c33a80f"></a><!-- doxytag: member="ngram_model_s::n" ref="3c87bc1b678662a2c8930b3b8c33a80f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8 <a class="el" href="structngram__model__s.html#3c87bc1b678662a2c8930b3b8c33a80f">ngram_model_s::n</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This is an n-gram model (1, 2, 3, . 
<p>
..). 
<p>Definition at line <a class="el" href="ngram__model__internal_8h-source.html#l00061">61</a> of file <a class="el" href="ngram__model__internal_8h-source.html">ngram_model_internal.h</a>.</p>

<p>Referenced by <a class="el" href="ngram__model_8c-source.html#l00738">ngram_iter_successors()</a>, <a class="el" href="ngram__model_8c-source.html#l00660">ngram_model_get_size()</a>, <a class="el" href="ngram__model_8c-source.html#l00686">ngram_model_mgrams()</a>, <a class="el" href="ngram__model__set_8c-source.html#l00520">ngram_model_set_add()</a>, <a class="el" href="ngram__model__set_8c-source.html#l00121">ngram_model_set_init()</a>, and <a class="el" href="ngram__model_8c-source.html#l00728">ngram_ng_iter()</a>.</p>

</div>
</div><p>
<a class="anchor" name="9dcba9b49cc1cd189b257e5838da0eee"></a><!-- doxytag: member="ngram_model_s::n_counts" ref="9dcba9b49cc1cd189b257e5838da0eee" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32* <a class="el" href="structngram__model__s.html#9dcba9b49cc1cd189b257e5838da0eee">ngram_model_s::n_counts</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Counts for 1, 2, 3, . 
<p>
.. grams 
<p>Definition at line <a class="el" href="ngram__model__internal_8h-source.html#l00057">57</a> of file <a class="el" href="ngram__model__internal_8h-source.html">ngram_model_internal.h</a>.</p>

<p>Referenced by <a class="el" href="ngram__model_8c-source.html#l00251">ngram_model_free()</a>, and <a class="el" href="ngram__model_8c-source.html#l00668">ngram_model_get_counts()</a>.</p>

</div>
</div><p>
<a class="anchor" name="74f85927ef0d5513a1e6c02d13864be3"></a><!-- doxytag: member="ngram_model_s::n_words" ref="74f85927ef0d5513a1e6c02d13864be3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32 <a class="el" href="structngram__model__s.html#74f85927ef0d5513a1e6c02d13864be3">ngram_model_s::n_words</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Number of actual word strings (NOT the same as the number of unigrams, due to class words). 
<p>

<p>Definition at line <a class="el" href="ngram__model__internal_8h-source.html#l00059">59</a> of file <a class="el" href="ngram__model__internal_8h-source.html">ngram_model_internal.h</a>.</p>

<p>Referenced by <a class="el" href="ngram__model_8c-source.html#l00296">ngram_model_casefold()</a>, <a class="el" href="ngram__model_8c-source.html#l00251">ngram_model_free()</a>, <a class="el" href="ngram__model__set_8c-source.html#l00520">ngram_model_set_add()</a>, <a class="el" href="ngram__model__set_8c-source.html#l00456">ngram_model_set_current_wid()</a>, <a class="el" href="ngram__model__set_8c-source.html#l00468">ngram_model_set_known_wid()</a>, <a class="el" href="ngram__model__set_8c-source.html#l00637">ngram_model_set_map_words()</a>, <a class="el" href="ngram__model__set_8c-source.html#l00580">ngram_model_set_remove()</a>, and <a class="el" href="ngram__model_8c-source.html#l00779">ngram_word()</a>.</p>

</div>
</div><p>
<a class="anchor" name="75567419a8002ef6e916c81f5d9ee9ed"></a><!-- doxytag: member="ngram_model_s::wid" ref="75567419a8002ef6e916c81f5d9ee9ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hash_table_t* <a class="el" href="structngram__model__s.html#75567419a8002ef6e916c81f5d9ee9ed">ngram_model_s::wid</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Mapping of unigram names to word IDs. 
<p>

<p>Definition at line <a class="el" href="ngram__model__internal_8h-source.html#l00074">74</a> of file <a class="el" href="ngram__model__internal_8h-source.html">ngram_model_internal.h</a>.</p>

<p>Referenced by <a class="el" href="ngram__model_8c-source.html#l00296">ngram_model_casefold()</a>, <a class="el" href="ngram__model_8c-source.html#l00251">ngram_model_free()</a>, <a class="el" href="ngram__model__set_8c-source.html#l00637">ngram_model_set_map_words()</a>, <a class="el" href="ngram__model_8c-source.html#l00641">ngram_unknown_wid()</a>, and <a class="el" href="ngram__model_8c-source.html#l00768">ngram_wid()</a>.</p>

</div>
</div><p>
<hr>The documentation for this struct was generated from the following file:<ul>
<li>src/libsphinxbase/lm/<a class="el" href="ngram__model__internal_8h-source.html">ngram_model_internal.h</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Sat Dec 3 20:28:42 2011 for SphinxBase by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.7.1 </small></address>
</body>
</html>
