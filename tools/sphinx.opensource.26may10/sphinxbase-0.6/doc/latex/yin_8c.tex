\section{src/libsphinxbase/fe/yin.c File Reference}
\label{yin_8c}\index{src/libsphinxbase/fe/yin.c@{src/libsphinxbase/fe/yin.c}}
Implementation of pitch extraction.  


{\tt \#include \char`\"{}yin.h\char`\"{}}\par
{\tt \#include \char`\"{}prim\_\-type.h\char`\"{}}\par
{\tt \#include \char`\"{}ckd\_\-alloc.h\char`\"{}}\par
{\tt \#include \char`\"{}fixpoint.h\char`\"{}}\par
{\tt \#include $<$stdio.h$>$}\par
\subsection*{Data Structures}
\begin{CompactItemize}
\item 
struct \textbf{yin\_\-s}
\end{CompactItemize}
\subsection*{Functions}
\begin{CompactItemize}
\item 
{\bf yin\_\-t} $\ast$ {\bf yin\_\-init} (int frame\_\-size, float search\_\-threshold, float search\_\-range, int smooth\_\-window)\label{yin_8c_deaf7df902787daf9fa9d7453798c01e}

\begin{CompactList}\small\item\em Initialize moving-window pitch estimation. \item\end{CompactList}\item 
void {\bf yin\_\-free} ({\bf yin\_\-t} $\ast$pe)\label{yin_8c_98f2ed13316b8ab9bf93feb4b6d3e7bd}

\begin{CompactList}\small\item\em Free a moving-window pitch estimator. \item\end{CompactList}\item 
void {\bf yin\_\-start} ({\bf yin\_\-t} $\ast$pe)\label{yin_8c_edb765d2c9f8f9d96f90b4971ed0f649}

\begin{CompactList}\small\item\em Start processing an utterance. \item\end{CompactList}\item 
void {\bf yin\_\-end} ({\bf yin\_\-t} $\ast$pe)\label{yin_8c_bfe51d8b596f85941831b2727e49c181}

\begin{CompactList}\small\item\em Mark the end of an utterance. \item\end{CompactList}\item 
int \textbf{thresholded\_\-search} (int32 $\ast$diff\_\-window, fixed32 threshold, int start, int end)\label{yin_8c_3befedc0027bb60c5c4b571a6a5c2e03}

\item 
void {\bf yin\_\-write} ({\bf yin\_\-t} $\ast$pe, int16 const $\ast$frame)
\begin{CompactList}\small\item\em Feed a frame of data to the pitch estimator. \item\end{CompactList}\item 
int {\bf yin\_\-read} ({\bf yin\_\-t} $\ast$pe, uint16 $\ast$out\_\-period, uint16 $\ast$out\_\-bestdiff)
\begin{CompactList}\small\item\em Read a raw estimated pitch value from the pitch estimator. \item\end{CompactList}\end{CompactItemize}


\subsection{Detailed Description}
Implementation of pitch extraction. 

\begin{Desc}
\item[Author:]David Huggins-Daines $<${\tt dhuggins@cs.cmu.edu}$>$ \end{Desc}


Definition in file {\bf yin.c}.

\subsection{Function Documentation}
\index{yin.c@{yin.c}!yin\_\-read@{yin\_\-read}}
\index{yin\_\-read@{yin\_\-read}!yin.c@{yin.c}}
\subsubsection[{yin\_\-read}]{\setlength{\rightskip}{0pt plus 5cm}int yin\_\-read ({\bf yin\_\-t} $\ast$ {\em pe}, \/  uint16 $\ast$ {\em out\_\-period}, \/  uint16 $\ast$ {\em out\_\-bestdiff})}\label{yin_8c_5d4ceba1aed1fcc8e10f6408a271b294}


Read a raw estimated pitch value from the pitch estimator. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em pe}]Pitch estimator. \item[{\em out\_\-period}]Output: an estimate of the period ($\ast$not$\ast$ the pitch) of the signal in samples. \item[{\em out\_\-bestdiff}]Output: the minimum normalized difference value associated with {\tt $\ast$out\_\-pitch}, in Q15 format (i.e. scaled by 32768). This can be interpreted as one minus the probability of voicing. \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]Non-zero if enough data was avaliable to return a pitch estimate, zero otherwise. \end{Desc}


Definition at line 220 of file yin.c.\index{yin.c@{yin.c}!yin\_\-write@{yin\_\-write}}
\index{yin\_\-write@{yin\_\-write}!yin.c@{yin.c}}
\subsubsection[{yin\_\-write}]{\setlength{\rightskip}{0pt plus 5cm}void yin\_\-write ({\bf yin\_\-t} $\ast$ {\em pe}, \/  int16 const $\ast$ {\em frame})}\label{yin_8c_e272b1d9ce8ad45f69eb8b5f98f305b6}


Feed a frame of data to the pitch estimator. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em pe}]Pitch estimator. \item[{\em frame}]Frame of {\tt frame\_\-size} (see \doxyref{yin\_\-init()}{p.}{yin_8h_deaf7df902787daf9fa9d7453798c01e}) samples of audio data. \end{description}
\end{Desc}


Definition at line 193 of file yin.c.