\section{include/glist.h File Reference}
\label{glist_8h}\index{include/glist.h@{include/glist.h}}
Generic linked-lists maintenance.  


{\tt \#include $<$stdlib.h$>$}\par
{\tt \#include $<$sphinxbase\_\-export.h$>$}\par
{\tt \#include $<$prim\_\-type.h$>$}\par
\subsection*{Data Structures}
\begin{CompactItemize}
\item 
struct {\bf gnode\_\-s}
\begin{CompactList}\small\item\em A node in a generic list. \item\end{CompactList}\end{CompactItemize}
\subsection*{Defines}
\begin{CompactItemize}
\item 
\#define {\bf gnode\_\-ptr}(g)~((g) $\rightarrow$ data.ptr)
\begin{CompactList}\small\item\em Head of a list of gnodes. \item\end{CompactList}\item 
\#define \textbf{gnode\_\-int32}(g)~((g) $\rightarrow$ data.i)\label{glist_8h_7daab0205c40d1b449529ee4cc54522b}

\item 
\#define \textbf{gnode\_\-uint32}(g)~((g) $\rightarrow$ data.ui)\label{glist_8h_3af0cc8d5d612e85fa433ac3edf42fd6}

\item 
\#define \textbf{gnode\_\-float32}(g)~((float32)(g) $\rightarrow$ data.fl)\label{glist_8h_af6a2bdc69642303426c20fc0bdfa5f6}

\item 
\#define \textbf{gnode\_\-float64}(g)~((g) $\rightarrow$ data.fl)\label{glist_8h_bfea8eee77afc1e3046ef33ae6c0f5b4}

\item 
\#define \textbf{gnode\_\-next}(g)~((g) $\rightarrow$ next)\label{glist_8h_33fc794db097ba2a5a36eba12c418993}

\end{CompactItemize}
\subsection*{Typedefs}
\begin{CompactItemize}
\item 
typedef struct {\bf gnode\_\-s} {\bf gnode\_\-t}\label{glist_8h_35eee566c2974c9a3e3055daf1611793}

\begin{CompactList}\small\item\em A node in a generic list. \item\end{CompactList}\item 
typedef {\bf gnode\_\-t} $\ast$ \textbf{glist\_\-t}\label{glist_8h_576a9ce77a5af8b912e75b32bce607f2}

\end{CompactItemize}
\subsection*{Functions}
\begin{CompactItemize}
\item 
SPHINXBASE\_\-EXPORT {\bf glist\_\-t} {\bf glist\_\-add\_\-ptr} ({\bf glist\_\-t} g, void $\ast$ptr)
\begin{CompactList}\small\item\em Create and prepend a new list node, with the given user-defined data, at the HEAD of the given generic list. \item\end{CompactList}\item 
SPHINXBASE\_\-EXPORT {\bf glist\_\-t} {\bf glist\_\-add\_\-int32} ({\bf glist\_\-t} g, int32 val)
\begin{CompactList}\small\item\em Create and prepend a new list node containing an integer. \item\end{CompactList}\item 
SPHINXBASE\_\-EXPORT {\bf glist\_\-t} {\bf glist\_\-add\_\-uint32} ({\bf glist\_\-t} g, uint32 val)
\begin{CompactList}\small\item\em Create and prepend a new list node containing an unsigned integer. \item\end{CompactList}\item 
SPHINXBASE\_\-EXPORT {\bf glist\_\-t} {\bf glist\_\-add\_\-float32} ({\bf glist\_\-t} g, float32 val)
\begin{CompactList}\small\item\em Create and prepend a new list node containing a single-precision float. \item\end{CompactList}\item 
SPHINXBASE\_\-EXPORT {\bf glist\_\-t} {\bf glist\_\-add\_\-float64} ({\bf glist\_\-t} g, float64 val)
\begin{CompactList}\small\item\em Create and prepend a new list node containing a double-precision float. \item\end{CompactList}\item 
SPHINXBASE\_\-EXPORT {\bf gnode\_\-t} $\ast$ {\bf glist\_\-insert\_\-ptr} ({\bf gnode\_\-t} $\ast$gn, void $\ast$ptr)
\begin{CompactList}\small\item\em Create and insert a new list node, with the given user-defined data, after the given generic node gn. \item\end{CompactList}\item 
SPHINXBASE\_\-EXPORT {\bf gnode\_\-t} $\ast$ {\bf glist\_\-insert\_\-int32} ({\bf gnode\_\-t} $\ast$gn, int32 val)
\begin{CompactList}\small\item\em Create and insert a new list node containing an integer. \item\end{CompactList}\item 
SPHINXBASE\_\-EXPORT {\bf gnode\_\-t} $\ast$ {\bf glist\_\-insert\_\-uint32} ({\bf gnode\_\-t} $\ast$gn, uint32 val)
\begin{CompactList}\small\item\em Create and insert a new list node containing an unsigned integer. \item\end{CompactList}\item 
SPHINXBASE\_\-EXPORT {\bf gnode\_\-t} $\ast$ {\bf glist\_\-insert\_\-float32} ({\bf gnode\_\-t} $\ast$gn, float32 val)
\begin{CompactList}\small\item\em Create and insert a new list node containing a single-precision float. \item\end{CompactList}\item 
SPHINXBASE\_\-EXPORT {\bf gnode\_\-t} $\ast$ {\bf glist\_\-insert\_\-float64} ({\bf gnode\_\-t} $\ast$gn, float64 val)
\begin{CompactList}\small\item\em Create and insert a new list node containing a double-precision float. \item\end{CompactList}\item 
SPHINXBASE\_\-EXPORT {\bf glist\_\-t} {\bf glist\_\-reverse} ({\bf glist\_\-t} g)
\begin{CompactList}\small\item\em Reverse the order of the given glist. \item\end{CompactList}\item 
SPHINXBASE\_\-EXPORT int32 {\bf glist\_\-count} ({\bf glist\_\-t} g)
\begin{CompactList}\small\item\em Count the number of element in a given link list. \item\end{CompactList}\item 
SPHINXBASE\_\-EXPORT void {\bf glist\_\-free} ({\bf glist\_\-t} g)
\begin{CompactList}\small\item\em Free the given generic list; user-defined data contained within is not automatically freed. \item\end{CompactList}\item 
SPHINXBASE\_\-EXPORT {\bf gnode\_\-t} $\ast$ {\bf gnode\_\-free} ({\bf gnode\_\-t} $\ast$gn, {\bf gnode\_\-t} $\ast$pred)
\begin{CompactList}\small\item\em Free the given node, gn, of a glist, pred being its predecessor in the list. \item\end{CompactList}\item 
SPHINXBASE\_\-EXPORT {\bf gnode\_\-t} $\ast$ {\bf glist\_\-tail} ({\bf glist\_\-t} g)\label{glist_8h_6921d6b8b11cb9e05fadeaa091e89234}

\begin{CompactList}\small\item\em Return the last node in the given list. \item\end{CompactList}\end{CompactItemize}


\subsection{Detailed Description}
Generic linked-lists maintenance. 

Only insert at the head of the list. A convenient little linked-list package, but a double-edged sword: the user must keep track of the data type within the linked list elements. When it was first written, there was no selective deletions except to destroy the entire list. This is modified in later version.

(C++ would be good for this, but that's a double-edged sword as well.) 

Definition in file {\bf glist.h}.

\subsection{Define Documentation}
\index{glist.h@{glist.h}!gnode\_\-ptr@{gnode\_\-ptr}}
\index{gnode\_\-ptr@{gnode\_\-ptr}!glist.h@{glist.h}}
\subsubsection[{gnode\_\-ptr}]{\setlength{\rightskip}{0pt plus 5cm}\#define gnode\_\-ptr(g)~((g) $\rightarrow$ data.ptr)}\label{glist_8h_ce56682f14d84cc456c805d26fd86734}


Head of a list of gnodes. 

Access macros, for convenience 

Definition at line 109 of file glist.h.

Referenced by cmd\_\-ln\_\-free\_\-r(), jsgf\_\-grammar\_\-free(), listelem\_\-alloc\_\-free(), listelem\_\-stats(), ngram\_\-model\_\-read\_\-classdef(), ngram\_\-model\_\-set\_\-read(), and parse\_\-subvecs().

\subsection{Function Documentation}
\index{glist.h@{glist.h}!glist\_\-add\_\-float32@{glist\_\-add\_\-float32}}
\index{glist\_\-add\_\-float32@{glist\_\-add\_\-float32}!glist.h@{glist.h}}
\subsubsection[{glist\_\-add\_\-float32}]{\setlength{\rightskip}{0pt plus 5cm}SPHINXBASE\_\-EXPORT {\bf glist\_\-t} glist\_\-add\_\-float32 ({\bf glist\_\-t} {\em g}, \/  float32 {\em val})}\label{glist_8h_4fc4db2fbebd7b659554227d411f6737}


Create and prepend a new list node containing a single-precision float. 

\begin{Desc}
\item[Parameters: ]\par
\begin{description}
\item[{\em 
g}]a link list \item[{\em 
val}]a float32 vlaue \end{description}
\end{Desc}


Definition at line 110 of file glist.c.

References ckd\_\-calloc, gnode\_\-s::data, anytype\_\-s::fl, glist\_\-add\_\-float32(), and gnode\_\-s::next.

Referenced by glist\_\-add\_\-float32(), and ngram\_\-model\_\-add\_\-class().\index{glist.h@{glist.h}!glist\_\-add\_\-float64@{glist\_\-add\_\-float64}}
\index{glist\_\-add\_\-float64@{glist\_\-add\_\-float64}!glist.h@{glist.h}}
\subsubsection[{glist\_\-add\_\-float64}]{\setlength{\rightskip}{0pt plus 5cm}SPHINXBASE\_\-EXPORT {\bf glist\_\-t} glist\_\-add\_\-float64 ({\bf glist\_\-t} {\em g}, \/  float64 {\em val})}\label{glist_8h_5bdd11639ef5846abb7ceb6caf059f4e}


Create and prepend a new list node containing a double-precision float. 

\begin{Desc}
\item[Parameters: ]\par
\begin{description}
\item[{\em 
g}]a link list \item[{\em 
val}]a float64 vlaue \end{description}
\end{Desc}


Definition at line 122 of file glist.c.

References ckd\_\-calloc, gnode\_\-s::data, anytype\_\-s::fl, glist\_\-add\_\-float64(), and gnode\_\-s::next.

Referenced by glist\_\-add\_\-float64().\index{glist.h@{glist.h}!glist\_\-add\_\-int32@{glist\_\-add\_\-int32}}
\index{glist\_\-add\_\-int32@{glist\_\-add\_\-int32}!glist.h@{glist.h}}
\subsubsection[{glist\_\-add\_\-int32}]{\setlength{\rightskip}{0pt plus 5cm}SPHINXBASE\_\-EXPORT {\bf glist\_\-t} glist\_\-add\_\-int32 ({\bf glist\_\-t} {\em g}, \/  int32 {\em val})}\label{glist_8h_28adfcc24a784aaed1a0b3c4c4de4c42}


Create and prepend a new list node containing an integer. 

\begin{Desc}
\item[Parameters: ]\par
\begin{description}
\item[{\em 
g}]a link list \item[{\em 
val}]an integer value \end{description}
\end{Desc}


Definition at line 86 of file glist.c.

References ckd\_\-calloc, gnode\_\-s::data, glist\_\-add\_\-int32(), anytype\_\-s::i, and gnode\_\-s::next.

Referenced by glist\_\-add\_\-int32(), and parse\_\-subvecs().\index{glist.h@{glist.h}!glist\_\-add\_\-ptr@{glist\_\-add\_\-ptr}}
\index{glist\_\-add\_\-ptr@{glist\_\-add\_\-ptr}!glist.h@{glist.h}}
\subsubsection[{glist\_\-add\_\-ptr}]{\setlength{\rightskip}{0pt plus 5cm}SPHINXBASE\_\-EXPORT {\bf glist\_\-t} glist\_\-add\_\-ptr ({\bf glist\_\-t} {\em g}, \/  void $\ast$ {\em ptr})}\label{glist_8h_77a9c20b7df5a289477af405ab778377}


Create and prepend a new list node, with the given user-defined data, at the HEAD of the given generic list. 

Return the new list thus formed. g may be NULL to indicate an initially empty list. \begin{Desc}
\item[Parameters: ]\par
\begin{description}
\item[{\em 
g}]a link list \item[{\em 
ptr}]a pointer \end{description}
\end{Desc}


Definition at line 74 of file glist.c.

References ckd\_\-calloc, gnode\_\-s::data, glist\_\-add\_\-ptr(), gnode\_\-s::next, and anytype\_\-s::ptr.

Referenced by glist\_\-add\_\-ptr(), hash\_\-table\_\-tolist(), jsgf\_\-grammar\_\-new(), ngram\_\-model\_\-set\_\-read(), and parse\_\-subvecs().\index{glist.h@{glist.h}!glist\_\-add\_\-uint32@{glist\_\-add\_\-uint32}}
\index{glist\_\-add\_\-uint32@{glist\_\-add\_\-uint32}!glist.h@{glist.h}}
\subsubsection[{glist\_\-add\_\-uint32}]{\setlength{\rightskip}{0pt plus 5cm}SPHINXBASE\_\-EXPORT {\bf glist\_\-t} glist\_\-add\_\-uint32 ({\bf glist\_\-t} {\em g}, \/  uint32 {\em val})}\label{glist_8h_eb741d435322f34df5e5d3a99abf00de}


Create and prepend a new list node containing an unsigned integer. 

\begin{Desc}
\item[Parameters: ]\par
\begin{description}
\item[{\em 
g}]a link list \item[{\em 
val}]an unsigned integer value \end{description}
\end{Desc}


Definition at line 98 of file glist.c.

References ckd\_\-calloc, gnode\_\-s::data, glist\_\-add\_\-uint32(), gnode\_\-s::next, and anytype\_\-s::ui.

Referenced by glist\_\-add\_\-uint32().\index{glist.h@{glist.h}!glist\_\-count@{glist\_\-count}}
\index{glist\_\-count@{glist\_\-count}!glist.h@{glist.h}}
\subsubsection[{glist\_\-count}]{\setlength{\rightskip}{0pt plus 5cm}SPHINXBASE\_\-EXPORT int32 glist\_\-count ({\bf glist\_\-t} {\em g})}\label{glist_8h_eb046e39c540d2f5f792119ea0d24c48}


Count the number of element in a given link list. 

\begin{Desc}
\item[Returns:]the number of elements in the given glist\_\-t \end{Desc}
\begin{Desc}
\item[Parameters: ]\par
\begin{description}
\item[{\em 
g}]input link list \end{description}
\end{Desc}


Definition at line 145 of file glist.c.

References glist\_\-count(), and gnode\_\-s::next.

Referenced by glist\_\-count(), ngram\_\-model\_\-set\_\-read(), and parse\_\-subvecs().\index{glist.h@{glist.h}!glist\_\-free@{glist\_\-free}}
\index{glist\_\-free@{glist\_\-free}!glist.h@{glist.h}}
\subsubsection[{glist\_\-free}]{\setlength{\rightskip}{0pt plus 5cm}SPHINXBASE\_\-EXPORT void glist\_\-free ({\bf glist\_\-t} {\em g})}\label{glist_8h_45380e15d2c33afc554fd60a8828580c}


Free the given generic list; user-defined data contained within is not automatically freed. 

The caller must have done that already. 

Definition at line 133 of file glist.c.

References ckd\_\-free(), glist\_\-free(), and gnode\_\-s::next.

Referenced by cmd\_\-ln\_\-free\_\-r(), glist\_\-free(), jsgf\_\-grammar\_\-free(), listelem\_\-alloc\_\-free(), ngram\_\-model\_\-add\_\-class(), ngram\_\-model\_\-read\_\-classdef(), ngram\_\-model\_\-set\_\-read(), and parse\_\-subvecs().\index{glist.h@{glist.h}!glist\_\-insert\_\-float32@{glist\_\-insert\_\-float32}}
\index{glist\_\-insert\_\-float32@{glist\_\-insert\_\-float32}!glist.h@{glist.h}}
\subsubsection[{glist\_\-insert\_\-float32}]{\setlength{\rightskip}{0pt plus 5cm}SPHINXBASE\_\-EXPORT {\bf gnode\_\-t}$\ast$ glist\_\-insert\_\-float32 ({\bf gnode\_\-t} $\ast$ {\em gn}, \/  float32 {\em val})}\label{glist_8h_ff08aed022168872fc9d30cd299df2ce}


Create and insert a new list node containing a single-precision float. 

\begin{Desc}
\item[Parameters: ]\par
\begin{description}
\item[{\em 
gn}]a generic node which a value will be inserted after it \item[{\em 
val}]float32 inserted \end{description}
\end{Desc}


Definition at line 230 of file glist.c.

References ckd\_\-calloc, gnode\_\-s::data, anytype\_\-s::fl, glist\_\-insert\_\-float32(), and gnode\_\-s::next.

Referenced by glist\_\-insert\_\-float32().\index{glist.h@{glist.h}!glist\_\-insert\_\-float64@{glist\_\-insert\_\-float64}}
\index{glist\_\-insert\_\-float64@{glist\_\-insert\_\-float64}!glist.h@{glist.h}}
\subsubsection[{glist\_\-insert\_\-float64}]{\setlength{\rightskip}{0pt plus 5cm}SPHINXBASE\_\-EXPORT {\bf gnode\_\-t}$\ast$ glist\_\-insert\_\-float64 ({\bf gnode\_\-t} $\ast$ {\em gn}, \/  float64 {\em val})}\label{glist_8h_97a682e38319dd8f67765732467110f9}


Create and insert a new list node containing a double-precision float. 

\begin{Desc}
\item[Parameters: ]\par
\begin{description}
\item[{\em 
gn}]a generic node which a value will be inserted after it \item[{\em 
val}]float64 inserted \end{description}
\end{Desc}


Definition at line 244 of file glist.c.

References ckd\_\-calloc, gnode\_\-s::data, anytype\_\-s::fl, glist\_\-insert\_\-float64(), and gnode\_\-s::next.

Referenced by glist\_\-insert\_\-float64().\index{glist.h@{glist.h}!glist\_\-insert\_\-int32@{glist\_\-insert\_\-int32}}
\index{glist\_\-insert\_\-int32@{glist\_\-insert\_\-int32}!glist.h@{glist.h}}
\subsubsection[{glist\_\-insert\_\-int32}]{\setlength{\rightskip}{0pt plus 5cm}SPHINXBASE\_\-EXPORT {\bf gnode\_\-t}$\ast$ glist\_\-insert\_\-int32 ({\bf gnode\_\-t} $\ast$ {\em gn}, \/  int32 {\em val})}\label{glist_8h_327b6478ee05ac17e3c3b3189579413e}


Create and insert a new list node containing an integer. 

\begin{Desc}
\item[Parameters: ]\par
\begin{description}
\item[{\em 
gn}]a generic node which a value will be inserted after it \item[{\em 
val}]int32 inserted \end{description}
\end{Desc}


Definition at line 201 of file glist.c.

References ckd\_\-calloc, gnode\_\-s::data, glist\_\-insert\_\-int32(), anytype\_\-s::i, and gnode\_\-s::next.

Referenced by glist\_\-insert\_\-int32().\index{glist.h@{glist.h}!glist\_\-insert\_\-ptr@{glist\_\-insert\_\-ptr}}
\index{glist\_\-insert\_\-ptr@{glist\_\-insert\_\-ptr}!glist.h@{glist.h}}
\subsubsection[{glist\_\-insert\_\-ptr}]{\setlength{\rightskip}{0pt plus 5cm}SPHINXBASE\_\-EXPORT {\bf gnode\_\-t}$\ast$ glist\_\-insert\_\-ptr ({\bf gnode\_\-t} $\ast$ {\em gn}, \/  void $\ast$ {\em ptr})}\label{glist_8h_2d641da6b349c1c939e3b954382513ba}


Create and insert a new list node, with the given user-defined data, after the given generic node gn. 

gn cannot be NULL. Return ptr to the newly created gnode\_\-t. \begin{Desc}
\item[Parameters: ]\par
\begin{description}
\item[{\em 
gn}]a generic node which ptr will be inserted after it \item[{\em 
ptr}]pointer inserted \end{description}
\end{Desc}


Definition at line 187 of file glist.c.

References ckd\_\-calloc, gnode\_\-s::data, glist\_\-insert\_\-ptr(), gnode\_\-s::next, and anytype\_\-s::ptr.

Referenced by glist\_\-insert\_\-ptr().\index{glist.h@{glist.h}!glist\_\-insert\_\-uint32@{glist\_\-insert\_\-uint32}}
\index{glist\_\-insert\_\-uint32@{glist\_\-insert\_\-uint32}!glist.h@{glist.h}}
\subsubsection[{glist\_\-insert\_\-uint32}]{\setlength{\rightskip}{0pt plus 5cm}SPHINXBASE\_\-EXPORT {\bf gnode\_\-t}$\ast$ glist\_\-insert\_\-uint32 ({\bf gnode\_\-t} $\ast$ {\em gn}, \/  uint32 {\em val})}\label{glist_8h_b7e58ee641d3648f047eef70a20a4647}


Create and insert a new list node containing an unsigned integer. 

\begin{Desc}
\item[Parameters: ]\par
\begin{description}
\item[{\em 
gn}]a generic node which a value will be inserted after it \item[{\em 
val}]uint32 inserted \end{description}
\end{Desc}


Definition at line 215 of file glist.c.

References ckd\_\-calloc, gnode\_\-s::data, glist\_\-insert\_\-uint32(), gnode\_\-s::next, and anytype\_\-s::ui.

Referenced by glist\_\-insert\_\-uint32().\index{glist.h@{glist.h}!glist\_\-reverse@{glist\_\-reverse}}
\index{glist\_\-reverse@{glist\_\-reverse}!glist.h@{glist.h}}
\subsubsection[{glist\_\-reverse}]{\setlength{\rightskip}{0pt plus 5cm}SPHINXBASE\_\-EXPORT {\bf glist\_\-t} glist\_\-reverse ({\bf glist\_\-t} {\em g})}\label{glist_8h_399a2a093c6c4ce1012762e4c25c8185}


Reverse the order of the given glist. 

(glist\_\-add() adds to the head; one might ultimately want the reverse of that.) NOTE: The list is reversed \char`\"{}in place\char`\"{}; i.e., no new memory is allocated. \begin{Desc}
\item[Returns:]: The head of the new list. \end{Desc}
\begin{Desc}
\item[Parameters: ]\par
\begin{description}
\item[{\em 
g}]input link list \end{description}
\end{Desc}


Definition at line 169 of file glist.c.

References glist\_\-reverse(), and gnode\_\-s::next.

Referenced by glist\_\-reverse(), jsgf\_\-grammar\_\-new(), ngram\_\-model\_\-add\_\-class(), and ngram\_\-model\_\-set\_\-read().\index{glist.h@{glist.h}!gnode\_\-free@{gnode\_\-free}}
\index{gnode\_\-free@{gnode\_\-free}!glist.h@{glist.h}}
\subsubsection[{gnode\_\-free}]{\setlength{\rightskip}{0pt plus 5cm}SPHINXBASE\_\-EXPORT {\bf gnode\_\-t}$\ast$ gnode\_\-free ({\bf gnode\_\-t} $\ast$ {\em gn}, \/  {\bf gnode\_\-t} $\ast$ {\em pred})}\label{glist_8h_68b51aea4de463b284a19668a713d502}


Free the given node, gn, of a glist, pred being its predecessor in the list. 

Return ptr to the next node in the list after the freed node. 

Definition at line 257 of file glist.c.

References ckd\_\-free(), gnode\_\-free(), and gnode\_\-s::next.

Referenced by gnode\_\-free().